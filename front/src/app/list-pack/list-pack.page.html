<ion-content>
  <div class="page" *ngIf="packs">
    <ion-grid>
        <div *ngIf="!editMode" class="game-infos">
          <ion-row>
            <ion-col size-xs="12" size-md="10">
              <div class="game-pack-list" *ngIf="listPacksHost && listPacksHost.length!=0">
                <div class="game-pack" *ngFor="let pack of listPacksHost">
                  <div class="delete-pack" (click)="removeToListPacksHost(pack.packId)">
                    <ion-icon slot="center" name="close"></ion-icon>
                  </div>
                  {{pack.name}}
                </div>
              </div>
            </ion-col>
            <ion-col class="host-container"size-xs="12" size-md="2">
              <div class="host-button"><span>Host game</span></div>
            </ion-col>
          </ion-row>
        </div>
      <div class="search-container">
        <ion-row>
          <ion-col size-xs="12" size-md="4">
            <div *ngIf="editMode" class="create-button" (click)="create()"><span>Create a new pack</span><ion-icon name="add"></ion-icon></div>
          </ion-col>
          <ion-col size-xs="12" offset-md="3" size-md="1">
            <div class="filters-button" (click)="toggleFilters()"><span>Filters</span></div>
          </ion-col>
          <ion-col size-xs="12" size-md="4">
            <ion-searchbar type="text" debounce="500" (ionInput)="filterName($event)"></ion-searchbar>
          </ion-col>
        </ion-row>
        <div class="filters-mega-container">
        <ion-row>
          <ion-col class="filters-container" size-xs="12" size-md="4">
          <h2 class="filter-title">Themes</h2>
            <ion-item>
              <ion-label>Themes</ion-label>
              <ion-select multiple [(ngModel)]="tagFilter" (ngModelChange)="filter()"okText="Okay" cancelText="Cancel">
                <ion-select-option *ngFor="let tag of tags" value="{{tag.name}}">{{tag.name}}</ion-select-option>
              </ion-select>
              <!--
              <ion-select multiple value="" okText="Okay" cancelText="Cancel">
                <ion-select-option value="Sport">Sport</ion-select-option>
                <ion-select-option value="Cinema">Cinema</ion-select-option>
                <ion-select-option value="History">History</ion-select-option>
                <ion-select-option value="Geography">Geography</ion-select-option>
                <ion-select-option value="Sciences">Sciences</ion-select-option>
                <ion-select-option value="Video Games">Video Games</ion-select-option>
                <ion-select-option value="Literature">Literature</ion-select-option>
                <ion-select-option value="Misc">Misc</ion-select-option>
              </ion-select>-->
            </ion-item>
          </ion-col>
          <ion-col class="filters-container" size-xs="12" size-md="4">
            <h2 class="filter-title">Sort by</h2>
            <ion-item>
              <ion-label>Sort by</ion-label>
              <ion-select value="" okText="Okay" cancelText="Cancel">
                <ion-select-option value="Most played">Most played</ion-select-option>
                <ion-select-option value="Most liked">Most liked</ion-select-option>
                <ion-select-option value="Most recent">Most recent</ion-select-option>
                <ion-select-option value="A-Z">A-Z</ion-select-option>
              </ion-select>
            </ion-item>
          </ion-col>
          <ion-col class="filters-container" size-xs="12" size-md="4">
            <h2 class="filter-title">Favorites/My packs</h2>
              <ion-row>
                <ion-col> 
                  <div class="button-filter"><ion-icon name="star-outline"></ion-icon>Favorites</div>
                </ion-col>
                <ion-col *ngIf="!editMode">
                  <div class="button-filter"(click)="filterOwnPacks()" ><ion-icon name="person-outline"></ion-icon>My packs</div>
                </ion-col>
              </ion-row>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>
            <div class="filters-button apply" (click)="toggleFilters()"><span>Apply filters</span></div>
          </ion-col>
        </ion-row>
      </div>
      </div>
      <ion-row class="pack-list" data-simplebar>
        <ion-col size-xs="12" size-md="6" *ngFor="let pack of packs">
          <div class="pack">
              <div *ngIf="editMode" class="delete-pack" (click)="alertConfirmDelete(pack.packId)">
                <ion-icon slot="center" name="close"></ion-icon>
              </div>
              <div class="pack-name">
                {{pack.name}}
              </div>
              <div class="pack-nbquestions">
                {{pack.rounds.length}} questions
              </div>
              <div class="pack-creator">
                Created By {{pack.author.username}}
              </div>
              
              <div class="pack-bottombar">
                <div class="tag">{{pack.tag.name}}</div>
                <div class="play-count"><ion-icon name="play-outline"></ion-icon><span>10</span></div>
                <div class="likes"><ion-icon name="thumbs-up-outline"></ion-icon><span>20</span></div>
                <div class="fav"><ion-icon name="star-outline"></ion-icon><span>Fav</span></div>
                <div *ngIf="editMode" class="edit-pack" (click)="edit(pack.packId)"><ion-icon name="create-outline"></ion-icon><span>Edit</span></div>
                <div *ngIf="!editMode" class="add-pack" (click)="addToListPacksHost(pack.packId)"><ion-icon name="add"></ion-icon><span>Add</span></div>
              </div>
            </div>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
</ion-content>
