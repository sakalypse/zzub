(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{rZCR:function(n,e,t){"use strict";t.r(e);var o=t("8Y7J");class i{}var l=t("pMnS"),r=t("SVse"),c=t("MKJQ"),s=t("sZkV"),a=t("mrSG"),u=t("IheW"),g=t("qXBG"),d=t("AytR"),h=t("RH9n"),p=t("VdwR"),m=t("qfBg"),_=t("B68i"),C=t("T90T"),O=function(n){return n[n.noExtra=0]="noExtra",n[n.audio=1]="audio",n[n.video=2]="video",n[n.img=3]="img",n}({}),P=t("HDdC"),M=t("quSY");class b extends M.a{constructor(n,e){super()}schedule(n,e=0){return this}}class f extends b{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){if(this.closed)return this;this.state=n;const t=this.id,o=this.scheduler;return null!=t&&(this.id=this.recycleAsyncId(o,t,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(o,this.id,e),this}requestAsyncId(n,e,t=0){return setInterval(n.flush.bind(n,this),t)}recycleAsyncId(n,e,t=0){if(null!==t&&this.delay===t&&!1===this.pending)return e;clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const t=this._execute(n,e);if(t)return t;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let t=!1,o=void 0;try{this.work(n)}catch(i){t=!0,o=!!i&&i||new Error(i)}if(t)return this.unsubscribe(),o}_unsubscribe(){const n=this.id,e=this.scheduler,t=e.actions,o=t.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==o&&t.splice(o,1),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null}}let x=(()=>{class n{constructor(e,t=n.now){this.SchedulerAction=e,this.now=t}schedule(n,e=0,t){return new this.SchedulerAction(this,n).schedule(t,e)}}return n.now=()=>Date.now(),n})();class y extends x{constructor(n,e=x.now){super(n,()=>y.delegate&&y.delegate!==this?y.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(n,e=0,t){return y.delegate&&y.delegate!==this?y.delegate.schedule(n,e,t):super.schedule(n,e,t)}flush(n){const{actions:e}=this;if(this.active)return void e.push(n);let t;this.active=!0;do{if(t=n.execute(n.state,n.delay))break}while(n=e.shift());if(this.active=!1,t){for(;n=e.shift();)n.unsubscribe();throw t}}}const w=new y(f);var v=t("DH7j");function I(n){return!Object(v.a)(n)&&n-parseFloat(n)+1>=0}var k=t("z+Ro");function q(n=0,e,t){let o=-1;return I(e)?o=Number(e)<1?1:Number(e):Object(k.a)(e)&&(t=e),Object(k.a)(t)||(t=w),new P.a(e=>{const i=I(n)?n:+n-t.now();return t.schedule(R,i,{index:0,period:o,subscriber:e})})}function R(n){const{index:e,period:t,subscriber:o}=n;if(o.next(e),!o.closed){if(-1===t)return o.complete();n.index=e+1,this.schedule(n,t)}}class E{constructor(n,e,t,o,i,l,r,c,s,a,g){this.authService=n,this.gameService=e,this.userService=t,this.packService=o,this.http=i,this.router=r,this.activatedRoute=c,this.alertController=s,this.toastController=a,this.socket=g,this.enumExtraType=O,this.indexCurrentPack=0,this.indexCurrentRound=0,this.currentIndexQuestion=1,this.showQuestion=!1,this.TIME_FOR_ROUND=7,this.TIME_FOR_NEXT_ROUND=3,this.http=new u.c(l),c.params.subscribe(n=>{this.init()})}ngOnInit(){}init(){return a.__awaiter(this,void 0,void 0,(function*(){this.socket=new h.a({url:d.a.API_URL_DEV,options:{}}),this.roomCode=this.activatedRoute.snapshot.paramMap.get("code"),this.room=yield this.gameService.getGameByCode(this.roomCode).then(n=>n),this.userId=this.authService.getLoggedUser().userId,this.owner=this.room.owner.userId==this.userId,this.socket.emit("rejoin",this.roomCode),this.listPlayer=[],this.room.players.forEach(n=>{this.listPlayer.push({userId:n.userId,username:n.username,score:0,answered:!1,wrong:!1})}),this.initPlayer(),this.owner&&this.initHost()}))}initPlayer(){return a.__awaiter(this,void 0,void 0,(function*(){this.socket.fromEvent("sendQuestion").subscribe(n=>a.__awaiter(this,void 0,void 0,(function*(){const e=q(0,1e3);this.roundTimerForPlayer=this.TIME_FOR_ROUND,this.timerRoundForPlayerSubscribe=e.subscribe(n=>{this.roundTimerForPlayer=this.TIME_FOR_ROUND-n,document.querySelector(".question-timer").style.transform="translateX(-"+(n+1)/this.TIME_FOR_ROUND*100+"%)",console.log(n),this.roundTimerForPlayer<=0&&(document.querySelector(".question-timer").style.transform="translateX(0%)",this.timerRoundForPlayerSubscribe.unsubscribe())}),this.listPlayer.forEach(n=>{n.answered=!1,n.wrong=!1}),this.showQuestion=!0,this.canAnswer=!0,this.roundIsMultipleChoice=n.roundIsMultipleChoice,this.currentQuestion=n.question,this.currentChoices=n.choices,this.currentExtra=n.extra,this.currentPackName=n.packName,this.currentNumberQuestion=n.numberQuestion}))),this.socket.fromEvent("endOfRound").subscribe(n=>a.__awaiter(this,void 0,void 0,(function*(){document.querySelector(".question-timer").style.transform="translateX(0%)",this.timerRoundForPlayerSubscribe.unsubscribe(),this.currentIndexQuestion++,this.showQuestion=!1,this.canAnswer=!1;const n=q(0,1e3);this.nextRoundTimer=this.TIME_FOR_NEXT_ROUND;let e=n.subscribe(n=>{this.nextRoundTimer=this.TIME_FOR_NEXT_ROUND-n,this.nextRoundTimer<=0&&(e.unsubscribe(),this.owner&&this.sendNextQuestion())})}))),this.socket.fromEvent("playerAnswered").subscribe(n=>a.__awaiter(this,void 0,void 0,(function*(){this.userId==n.userId&&(this.canAnswer=!1);let e=this.listPlayer.find(e=>e.userId==n.userId),t=this.listPlayer.filter(n=>1==n.answered&&0==n.wrong).length;e.answered=!0,e.wrong=n.wrong,0==e.wrong&&(console.log(t),e.score+=this.listPlayer.length-t),this.listPlayer.sort((function(n,e){return e.score-n.score}))}))),this.socket.fromEvent("quitGame").subscribe(n=>a.__awaiter(this,void 0,void 0,(function*(){this.listPlayer=this.listPlayer.filter(e=>e.userId!==n)}))),this.socket.fromEvent("killGame").subscribe(n=>a.__awaiter(this,void 0,void 0,(function*(){this.socket.emit("quitGame",this.userId,this.roomCode),this.authService.getLoggedUser().role==_.a.guest&&(yield this.userService.deleteGuest(this.authService.getLoggedUser().userId),this.authService.clearStorage()),this.router.navigate(["/"])})))}))}initHost(){return a.__awaiter(this,void 0,void 0,(function*(){this.currentPack=this.room.packs[this.indexCurrentPack],this.socket.fromEvent("playerSendChoice").subscribe(n=>a.__awaiter(this,void 0,void 0,(function*(){let e;e=this.currentChoices.find(n=>1==n.isAnswer).choiceId!=n.choiceId;let t=this.listPlayer.filter(n=>0==n.answered).length;this.socket.emit("playerAnswered",{roomCode:this.roomCode,userId:n.userId,wrong:e}),1==t&&this.endOfROund()}))),this.socket.fromEvent("playerSendInputChoice").subscribe(n=>a.__awaiter(this,void 0,void 0,(function*(){let e;e=this.currentChoices.find(n=>1==n.isAnswer).choice.toLowerCase()!=n.inputChoice.toLowerCase();let t=this.listPlayer.filter(n=>0==n.answered).length;this.socket.emit("playerAnswered",{roomCode:this.roomCode,userId:n.userId,wrong:e}),1==t&&this.endOfROund()})));const n=q(0,1e3);this.nextRoundTimer=this.TIME_FOR_NEXT_ROUND;let e=n.subscribe(n=>{this.nextRoundTimer=this.TIME_FOR_NEXT_ROUND-n,this.nextRoundTimer<=0&&(e.unsubscribe(),this.sendNextQuestion())})}))}endOfROund(){this.timerRoundSubscribe.unsubscribe(),this.roundTimerForPlayer=0,this.socket.emit("endOfRound",{roomCode:this.roomCode})}sendNextQuestion(){return a.__awaiter(this,void 0,void 0,(function*(){if(this.owner){if(this.indexCurrentRound>=this.currentPack.rounds.length){if(this.indexCurrentPack>=this.room.packs.length-1)return;this.currentPack=this.room.packs[++this.indexCurrentPack],this.indexCurrentRound=0}var n=this.currentPack.rounds[this.indexCurrentRound++];if(n.isMultipleChoice)for(let t=n.choices.length-1;t>0;t--){const e=Math.floor(Math.random()*(t+1));[n.choices[t],n.choices[e]]=[n.choices[e],n.choices[t]]}this.socket.emit("sendQuestion",{roomCode:this.roomCode,question:n.question,roundIsMultipleChoice:n.isMultipleChoice,choices:n.choices,extra:n.extra,packName:this.currentPack.name,numberQuestion:this.currentPack.rounds.length});const e=q(0,1e3);this.roundTimer=this.TIME_FOR_ROUND,this.timerRoundSubscribe=e.subscribe(n=>{this.roundTimer=this.TIME_FOR_ROUND-n,this.roundTimer<=0&&this.endOfROund()})}}))}playerSendChoice(n){return a.__awaiter(this,void 0,void 0,(function*(){this.canAnswer&&this.socket.emit("playerSendChoice",{roomCode:this.roomCode,choiceId:n,userId:this.userId})}))}playerSendInputChoice(n){return a.__awaiter(this,void 0,void 0,(function*(){this.canAnswer&&this.socket.emit("playerSendInputChoice",{roomCode:this.roomCode,inputChoice:n,userId:this.userId})}))}exitRoom(){return a.__awaiter(this,void 0,void 0,(function*(){this.socket.emit("quitGame",this.userId,this.roomCode),yield this.gameService.removeUserToGame(this.room.gameId,this.userId),this.router.navigate(["/"])}))}deleteRoom(){return a.__awaiter(this,void 0,void 0,(function*(){this.socket.emit("killGame",this.roomCode),yield this.gameService.deleteGame(this.room.gameId),this.router.navigate(["/"])}))}ngOnDestroy(){this.socket.disconnect()}}var S=t("iInd"),T=o.nb({encapsulation:0,styles:[["ion-content[_ngcontent-%COMP%]{--background:#ebebed}.game-page-container[_ngcontent-%COMP%]{height:100%}@media screen and (min-width:991px){.game-page-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;height:auto}}.game-page-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]{height:calc(100% - 130px);width:100%;display:flex;flex-direction:column;position:relative}.game-page-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]{height:48%;width:100%;background-color:var(--custom-color-secondary);display:flex;flex-direction:column;position:relative}.game-page-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-timer-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:10px;top:0;background-color:rgba(0,0,0,.4);overflow:hidden}.game-page-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-timer-container[_ngcontent-%COMP%]   .question-timer[_ngcontent-%COMP%]{background-color:var(--ion-color-success-shade);width:100%;position:absolute;top:0;height:10px;transition:all 1s linear;transform:translateX(0);transition-delay:0s}.game-page-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]{margin:auto}.game-page-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]   .question-text[_ngcontent-%COMP%]{padding:0 15px;font-weight:700;font-size:18px;color:#fff;text-align:center}@media screen and (min-width:991px){.game-page-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]{width:600px}.game-page-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]{height:350px;border-radius:5px}.game-page-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]   .question-text[_ngcontent-%COMP%]{font-size:22px;padding:0 30px}}.game-page-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]   .question-asset[_ngcontent-%COMP%]{display:flex;overflow:hidden;padding:10px 0}.game-page-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]   .question-asset[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:100px;margin:0 auto}.game-page-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-infos-container[_ngcontent-%COMP%]{height:50x;width:100%;position:absolute;bottom:0;left:0;display:flex;justify-content:flex-end}.game-page-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-infos-container[_ngcontent-%COMP%]   .question-infos[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.4);display:flex;padding:10px;color:#fff;display:flex}@media screen and (min-width:768px){.game-page-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-infos-container[_ngcontent-%COMP%]   .question-infos[_ngcontent-%COMP%]{border-radius:5px 0}}.game-page-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-infos-container[_ngcontent-%COMP%]   .question-infos[_ngcontent-%COMP%]   .info-pack-name[_ngcontent-%COMP%], .game-page-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-infos-container[_ngcontent-%COMP%]   .question-infos[_ngcontent-%COMP%]   .info-question-index[_ngcontent-%COMP%]{margin:auto 5px}.game-page-container[_ngcontent-%COMP%]   .answer-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:52%}.game-page-container[_ngcontent-%COMP%]   .answer-container[_ngcontent-%COMP%]   .multiple-choice[_ngcontent-%COMP%]{margin:auto 0;display:flex;flex-direction:column}.game-page-container[_ngcontent-%COMP%]   .answer-container[_ngcontent-%COMP%]   .multiple-choice[_ngcontent-%COMP%]   .choice[_ngcontent-%COMP%]{margin:1.5vh auto;background-color:#fff;width:80%;text-align:center;padding:10px;border-radius:5px;max-width:500px;cursor:pointer;border:2px solid #ebebed;transition:.1s ease-in;font-weight:700}@media screen and (min-width:991px){.game-page-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]   .question-asset[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:150px}.game-page-container[_ngcontent-%COMP%]   .answer-container[_ngcontent-%COMP%]   .multiple-choice[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:wrap;margin-top:20px}.game-page-container[_ngcontent-%COMP%]   .answer-container[_ngcontent-%COMP%]   .multiple-choice[_ngcontent-%COMP%]   .choice[_ngcontent-%COMP%]{width:calc(50% - 20px);margin:10px auto;padding:20px}}.game-page-container[_ngcontent-%COMP%]   .answer-container[_ngcontent-%COMP%]   .multiple-choice[_ngcontent-%COMP%]   .choice[_ngcontent-%COMP%]:hover{border:2px solid var(--custom-color-secondary)}.game-page-container[_ngcontent-%COMP%]   .answer-container[_ngcontent-%COMP%]   .multiple-choice[_ngcontent-%COMP%]   .choice.selected[_ngcontent-%COMP%]{background-color:var(--custom-color-secondary);color:#fff;pointer-events:none}.game-page-container[_ngcontent-%COMP%]   .answer-container[_ngcontent-%COMP%]   .multiple-choice[_ngcontent-%COMP%]   .choice.right[_ngcontent-%COMP%]{background-color:var(--ion-color-success-shade);color:#fff;pointer-events:none}.game-page-container[_ngcontent-%COMP%]   .answer-container[_ngcontent-%COMP%]   .multiple-choice[_ngcontent-%COMP%]   .choice.wrong[_ngcontent-%COMP%]{background-color:var(--ion-color-danger-shade);color:#fff;pointer-events:none}.game-page-container[_ngcontent-%COMP%]   .answer-container[_ngcontent-%COMP%]   .type-answer[_ngcontent-%COMP%]{margin:auto}.game-page-container[_ngcontent-%COMP%]   .answer-container[_ngcontent-%COMP%]   .type-answer[_ngcontent-%COMP%]   .type-input[_ngcontent-%COMP%]{border:none;height:35px;box-shadow:inset 0 1px 8px rgba(110,110,110,.2)}.game-page-container[_ngcontent-%COMP%]   .answer-container[_ngcontent-%COMP%]   .type-answer[_ngcontent-%COMP%]   .type-input[_ngcontent-%COMP%]:active, .game-page-container[_ngcontent-%COMP%]   .answer-container[_ngcontent-%COMP%]   .type-answer[_ngcontent-%COMP%]   .type-input[_ngcontent-%COMP%]:focus, .game-page-container[_ngcontent-%COMP%]   .answer-container[_ngcontent-%COMP%]   .type-answer[_ngcontent-%COMP%]   .type-input[_ngcontent-%COMP%]:focus-within{box-shadow:inset 0 1px 8px rgba(0,0,0,.4)}.game-page-container[_ngcontent-%COMP%]   .answer-container[_ngcontent-%COMP%]   .type-answer[_ngcontent-%COMP%]   .type-submit[_ngcontent-%COMP%]{display:inline-block;width:auto;height:35px;padding:7.5px 12px;background-color:#42d77d;color:#fff;font-weight:700;text-transform:uppercase;box-sizing:border-box;cursor:pointer}.game-page-container[_ngcontent-%COMP%]   .next-question[_ngcontent-%COMP%]{bottom:0;padding:10px 25px;width:auto;right:0;position:absolute;background-color:#29c467;color:#fff;font-weight:700;font-size:20px}.game-page-container[_ngcontent-%COMP%]   .score-container[_ngcontent-%COMP%]{background-color:#fff;height:130px;overflow-y:hidden;overflow-x:auto}.game-page-container[_ngcontent-%COMP%]   .score-container[_ngcontent-%COMP%]   .players[_ngcontent-%COMP%]{display:flex;padding:10px 0}@media screen and (min-width:991px){.game-page-container[_ngcontent-%COMP%]   .answer-container[_ngcontent-%COMP%]   .type-answer[_ngcontent-%COMP%]{margin:100px auto}.game-page-container[_ngcontent-%COMP%]   .next-question[_ngcontent-%COMP%]{bottom:-50px}.game-page-container[_ngcontent-%COMP%]   .score-container[_ngcontent-%COMP%]{height:auto;overflow-y:auto;overflow-x:hidden;background:0 0;margin:0 40px;max-height:700px}.game-page-container[_ngcontent-%COMP%]   .score-container[_ngcontent-%COMP%]   .players[_ngcontent-%COMP%]{flex-direction:column;padding:0}}.game-page-container[_ngcontent-%COMP%]   .score-container[_ngcontent-%COMP%]   .players[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:auto 0;padding:0 15px}@media screen and (min-width:991px){.game-page-container[_ngcontent-%COMP%]   .score-container[_ngcontent-%COMP%]   .players[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{background-color:#fff;flex-direction:row;padding:10px 35px;margin:0 0 20px;border-radius:10px}}.game-page-container[_ngcontent-%COMP%]   .score-container[_ngcontent-%COMP%]   .players[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-frame[_ngcontent-%COMP%]{border:2px solid var(--custom-color-gray);border-radius:50%;margin:auto auto 5px}.game-page-container[_ngcontent-%COMP%]   .score-container[_ngcontent-%COMP%]   .players[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-frame[_ngcontent-%COMP%]   .player-avatar[_ngcontent-%COMP%]{width:55px;height:55px;border-radius:50%;overflow:hidden;margin:5px}.game-page-container[_ngcontent-%COMP%]   .score-container[_ngcontent-%COMP%]   .players[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-infos[_ngcontent-%COMP%]{display:flex;flex-direction:column}.game-page-container[_ngcontent-%COMP%]   .score-container[_ngcontent-%COMP%]   .players[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-infos[_ngcontent-%COMP%]   .player-name[_ngcontent-%COMP%]{margin:auto;font-weight:700;font-size:16px;width:100px;max-width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-align:center}@media screen and (min-width:991px){.game-page-container[_ngcontent-%COMP%]   .score-container[_ngcontent-%COMP%]   .players[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-frame[_ngcontent-%COMP%]{margin:auto 0 auto auto}.game-page-container[_ngcontent-%COMP%]   .score-container[_ngcontent-%COMP%]   .players[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-infos[_ngcontent-%COMP%]{margin:auto auto auto 20px}.game-page-container[_ngcontent-%COMP%]   .score-container[_ngcontent-%COMP%]   .players[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-infos[_ngcontent-%COMP%]   .player-name[_ngcontent-%COMP%]{margin:auto}}.game-page-container[_ngcontent-%COMP%]   .score-container[_ngcontent-%COMP%]   .players[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-infos[_ngcontent-%COMP%]   .player-score[_ngcontent-%COMP%]{margin:0 auto;font-size:16px;line-height:1;font-weight:700}.game-page-container[_ngcontent-%COMP%]   .score-container[_ngcontent-%COMP%]   .players[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]:nth-child(1)   .player-frame[_ngcontent-%COMP%]{border:2px solid var(--custom-color-gold)}.game-page-container[_ngcontent-%COMP%]   .score-container[_ngcontent-%COMP%]   .players[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]:nth-child(1)   .player-score[_ngcontent-%COMP%]{color:var(--custom-color-gold)}.game-page-container[_ngcontent-%COMP%]   .score-container[_ngcontent-%COMP%]   .players[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]:nth-child(2)   .player-frame[_ngcontent-%COMP%]{border:2px solid var(--custom-color-silver)}.game-page-container[_ngcontent-%COMP%]   .score-container[_ngcontent-%COMP%]   .players[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]:nth-child(2)   .player-score[_ngcontent-%COMP%]{color:var(--custom-color-silver)}.game-page-container[_ngcontent-%COMP%]   .score-container[_ngcontent-%COMP%]   .players[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]:nth-child(3)   .player-frame[_ngcontent-%COMP%]{border:2px solid var(--custom-color-bronze)}.game-page-container[_ngcontent-%COMP%]   .score-container[_ngcontent-%COMP%]   .players[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]:nth-child(3)   .player-score[_ngcontent-%COMP%]{color:var(--custom-color-bronze)}"]],data:{}});function N(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,1,"button",[],null,[[null,"click"]],(function(n,e,t){var o=!0;return"click"===e&&(o=!1!==n.component.deleteRoom()&&o),o}),null,null)),(n()(),o.Hb(-1,null,["Delete room"]))],null,null)}function F(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,1,"button",[],null,[[null,"click"]],(function(n,e,t){var o=!0;return"click"===e&&(o=!1!==n.component.exitRoom()&&o),o}),null,null)),(n()(),o.Hb(-1,null,["Exit room"]))],null,null)}function z(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,1,"div",[["class","question-asset"]],null,null,null,null,null)),(n()(),o.pb(1,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null))],null,(function(n,e){n(e,1,0,e.component.currentExtra.url)}))}function A(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,10,"div",[["class","question"]],null,null,null,null,null)),(n()(),o.pb(1,0,null,null,1,"div",[["class","question-text"]],null,null,null,null,null)),(n()(),o.Hb(2,null,["",""])),(n()(),o.eb(16777216,null,null,1,null,z)),o.ob(4,16384,null,0,r.j,[o.M,o.J],{ngIf:[0,"ngIf"]},null),(n()(),o.pb(5,0,null,null,5,"div",[["class","question-infos-container"]],null,null,null,null,null)),(n()(),o.pb(6,0,null,null,4,"div",[["class","question-infos"]],null,null,null,null,null)),(n()(),o.pb(7,0,null,null,1,"div",[["class","info-pack-name"]],null,null,null,null,null)),(n()(),o.Hb(8,null,["",""])),(n()(),o.pb(9,0,null,null,1,"div",[["class","info-question-index"]],null,null,null,null,null)),(n()(),o.Hb(10,null,["","/",""]))],(function(n,e){var t=e.component;n(e,4,0,null!=t.currentExtra&&t.currentExtra.extraType==t.enumExtraType.img)}),(function(n,e){var t=e.component;n(e,2,0,t.currentQuestion),n(e,8,0,t.currentPackName),n(e,10,0,t.currentIndexQuestion,t.currentNumberQuestion)}))}function Q(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,2,"div",[["class","question"]],null,null,null,null,null)),(n()(),o.pb(1,0,null,null,1,"div",[["class","question-text"]],null,null,null,null,null)),(n()(),o.Hb(2,null,["Next round starts in : ",""]))],null,(function(n,e){n(e,2,0,e.component.nextRoundTimer)}))}function j(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,1,"div",[["class","choice"]],[[2,"disabled",null]],[[null,"click"]],(function(n,e,t){var o=!0;return"click"===e&&(o=!1!==n.component.playerSendChoice(n.context.$implicit.choiceId)&&o),o}),null,null)),(n()(),o.Hb(1,null,["",""]))],null,(function(n,e){n(e,0,0,!e.component.canAnswer),n(e,1,0,e.context.$implicit.choice)}))}function D(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,2,"div",[["class","multiple-choice"]],null,null,null,null,null)),(n()(),o.eb(16777216,null,null,1,null,j)),o.ob(2,278528,null,0,r.i,[o.M,o.J,o.q],{ngForOf:[0,"ngForOf"]},null)],(function(n,e){n(e,2,0,e.component.currentChoices)}),null)}function H(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,3,"div",[["class","type-answer"]],null,[[null,"keyup.enter"]],(function(n,e,t){var i=!0;return"keyup.enter"===e&&(i=!1!==n.component.playerSendInputChoice(o.Bb(n,1).value)&&i),i}),null,null)),(n()(),o.pb(1,0,[["inputChoice",1]],null,0,"input",[["class","type-input"],["type","text"]],null,null,null,null,null)),(n()(),o.pb(2,0,null,null,1,"div",[["class","type-submit"]],null,[[null,"click"]],(function(n,e,t){var i=!0;return"click"===e&&(i=!1!==n.component.playerSendInputChoice(o.Bb(n,1).value)&&i),i}),null,null)),(n()(),o.Hb(-1,null,["Validate"]))],null,null)}function U(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,4,"div",[["class","answer-container"]],null,null,null,null,null)),(n()(),o.eb(16777216,null,null,1,null,D)),o.ob(2,16384,null,0,r.j,[o.M,o.J],{ngIf:[0,"ngIf"]},null),(n()(),o.eb(16777216,null,null,1,null,H)),o.ob(4,16384,null,0,r.j,[o.M,o.J],{ngIf:[0,"ngIf"]},null)],(function(n,e){var t=e.component;n(e,2,0,t.roundIsMultipleChoice),n(e,4,0,!t.roundIsMultipleChoice)}),null)}function J(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,8,"div",[["class","player"]],null,null,null,null,null)),(n()(),o.pb(1,0,null,null,2,"div",[["class","player-frame"]],null,null,null,null,null)),(n()(),o.pb(2,0,null,null,1,"div",[["class","player-avatar"]],null,null,null,null,null)),(n()(),o.pb(3,0,null,null,0,"img",[["alt","avatar"],["src","../assets/Images/avatars/dinosaur.png"]],null,null,null,null,null)),(n()(),o.pb(4,0,null,null,4,"div",[["class","player-infos"]],null,null,null,null,null)),(n()(),o.pb(5,0,null,null,1,"div",[["class","player-name"]],null,null,null,null,null)),(n()(),o.Hb(6,null,["",""])),(n()(),o.pb(7,0,null,null,1,"div",[["class","player-score"]],null,null,null,null,null)),(n()(),o.Hb(8,null,["",""]))],null,(function(n,e){n(e,6,0,e.context.$implicit.username),n(e,8,0,e.context.$implicit.score)}))}function G(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,22,"ion-content",[],null,null,null,c.v,c.d)),o.ob(1,49152,null,0,s.t,[o.h,o.k,o.x],null,null),(n()(),o.pb(2,0,null,0,1,"div",[],null,null,null,null,null)),(n()(),o.Hb(3,null,["Lobby : ",""])),(n()(),o.eb(16777216,null,0,1,null,N)),o.ob(5,16384,null,0,r.j,[o.M,o.J],{ngIf:[0,"ngIf"]},null),(n()(),o.eb(16777216,null,0,1,null,F)),o.ob(7,16384,null,0,r.j,[o.M,o.J],{ngIf:[0,"ngIf"]},null),(n()(),o.pb(8,0,null,0,14,"div",[["class","game-page-container"]],null,null,null,null,null)),(n()(),o.pb(9,0,null,null,9,"div",[["class","game-container"]],null,null,null,null,null)),(n()(),o.pb(10,0,null,null,6,"div",[["class","question-container"]],null,null,null,null,null)),(n()(),o.pb(11,0,null,null,1,"div",[["class","question-timer-container"]],null,null,null,null,null)),(n()(),o.pb(12,0,null,null,0,"div",[["class","question-timer"]],null,null,null,null,null)),(n()(),o.eb(16777216,null,null,1,null,A)),o.ob(14,16384,null,0,r.j,[o.M,o.J],{ngIf:[0,"ngIf"]},null),(n()(),o.eb(16777216,null,null,1,null,Q)),o.ob(16,16384,null,0,r.j,[o.M,o.J],{ngIf:[0,"ngIf"]},null),(n()(),o.eb(16777216,null,null,1,null,U)),o.ob(18,16384,null,0,r.j,[o.M,o.J],{ngIf:[0,"ngIf"]},null),(n()(),o.pb(19,0,null,null,3,"div",[["class","score-container"]],null,null,null,null,null)),(n()(),o.pb(20,0,null,null,2,"div",[["class","players"]],null,null,null,null,null)),(n()(),o.eb(16777216,null,null,1,null,J)),o.ob(22,278528,null,0,r.i,[o.M,o.J,o.q],{ngForOf:[0,"ngForOf"]},null)],(function(n,e){var t=e.component;n(e,5,0,t.owner),n(e,7,0,!t.owner),n(e,14,0,t.showQuestion),n(e,16,0,!t.showQuestion),n(e,18,0,t.showQuestion),n(e,22,0,t.listPlayer)}),(function(n,e){n(e,3,0,e.component.roomCode)}))}function X(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,1,"app-game",[],null,[[null,"unloaded"]],(function(n,e,t){var i=!0;return"unloaded"===e&&(i=!1!==o.Bb(n,1).ngOnDestroy()&&i),i}),G,T)),o.ob(1,245760,null,0,E,[g.a,p.a,m.a,C.a,u.c,u.b,S.m,S.a,s.a,s.Jb,h.a],null,null)],(function(n,e){n(e,1,0)}),null)}var L=o.lb("app-game",E,X,{},{},[]),B=t("s7LF");class V{}t.d(e,"GamePageModuleNgFactory",(function(){return $}));var $=o.mb(i,[],(function(n){return o.yb([o.zb(512,o.j,o.X,[[8,[l.a,L]],[3,o.j],o.v]),o.zb(4608,r.l,r.k,[o.s,[2,r.w]]),o.zb(4608,B.t,B.t,[]),o.zb(4608,s.b,s.b,[o.x,o.g]),o.zb(4608,s.Cb,s.Cb,[s.b,o.j,o.p]),o.zb(4608,s.Fb,s.Fb,[s.b,o.j,o.p]),o.zb(1073742336,r.b,r.b,[]),o.zb(1073742336,B.s,B.s,[]),o.zb(1073742336,B.i,B.i,[]),o.zb(1073742336,s.Ab,s.Ab,[]),o.zb(1073742336,S.o,S.o,[[2,S.t],[2,S.m]]),o.zb(1073742336,V,V,[]),o.zb(1073742336,i,i,[]),o.zb(1024,S.k,(function(){return[[{path:"",component:E}]]}),[])])}))}}]);